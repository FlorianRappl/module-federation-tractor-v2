{"version":3,"file":"__federation_expose_Checkout.js","sources":["webpack://checkout/./src/Checkout.jsx","webpack://checkout/./src/components/Button.jsx?7d1b","webpack://checkout/./src/components/CompactHeader.jsx"],"sourcesContent":["import * as React from 'react';\nimport CompactHeader from './components/CompactHeader';\nimport Button from './components/Button';\nimport './css/index.css';\n\nconst StorePicker = window.getComponent('explore/StorePicker');\nconst Footer = window.getComponent('explore/Footer');\n\nfunction useShop() {\n  const [shop, setShop] = React.useState('');\n\n  React.useEffect(() => {\n    const changeShop = (ev) => {\n      const { shop } = ev.detail;\n      setShop(shop);\n    };\n    window.addEventListener('selected-shop', changeShop);\n\n    return () => {\n      window.removeEventListener('selected-shop', changeShop);\n    };\n  }, []);\n\n  return shop;\n}\n\nconst defaultForm = {\n  firstName: '',\n  lastName: '',\n};\n\nconst Checkout = () => {\n  const shop = useShop();\n  const [data, setData] = React.useState(defaultForm)\n  const isInvalid = !shop || !data.firstName || !data.lastName;\n\n  function changeData(ev) {\n    const { name, value } = ev.currentTarget;\n    setData({\n      ...data,\n      [name]: value,\n    });\n  }\n\n  function submit(ev) {\n    window.dispatchEvent(new CustomEvent('clear-cart'));\n    history.pushState({}, undefined, '/checkout/thanks');\n    ev.preventDefault();\n  }\n\n  return (\n    <div data-boundary-page=\"checkout\">\n      <CompactHeader />\n      <main className=\"c_Checkout\">\n        <h2>Checkout</h2>\n        <form action=\"/checkout/place-order\" method=\"post\" className=\"c_Checkout__form\" onSubmit={submit}>\n          <h3>Personal Data</h3>\n          <fieldset className=\"c_Checkout__name\">\n            <div>\n              <label className=\"c_Checkout__label\" htmlFor=\"c_firstname\">\n                First name\n              </label>\n              <input className=\"c_Checkout__input\" type=\"text\" id=\"c_firstname\" name=\"firstName\" required value={data.firstName} onChange={changeData} />\n            </div>\n            <div>\n              <label className=\"c_Checkout__label\" htmlFor=\"c_lastname\">\n                Last name\n              </label>\n              <input className=\"c_Checkout__input\" type=\"text\" id=\"c_lastname\" name=\"lastName\" required value={data.lastName} onChange={changeData} />\n            </div>\n          </fieldset>\n\n          <h3>Store Pickup</h3>\n          <fieldset>\n            <div className=\"c_Checkout__store\">\n              <StorePicker />\n            </div>\n            <label className=\"c_Checkout__label\" htmlFor=\"c_storeId\">\n              Store ID\n            </label>\n            <input className=\"c_Checkout__input\" type=\"text\" id=\"c_storeId\" name=\"storeId\" defaultValue={shop} readOnly required />\n          </fieldset>\n\n          <div className=\"c_Checkout__buttons\">\n            <Button type=\"submit\" variant=\"primary\" disabled={isInvalid}>\n              place order\n            </Button>\n            <Button href=\"/checkout/cart\" variant=\"secondary\">\n              back to cart\n            </Button>\n          </div>\n        </form>\n      </main>\n      <Footer />\n    </div>\n  );\n};\n\nexport default Checkout;\n","import * as React from \"react\";\n\nexport default ({\n  href,\n  type,\n  value,\n  disabled,\n  rounded,\n  className = \"\",\n  children,\n  dataId,\n  size = \"normal\",\n  variant = \"secondary\",\n  title,\n}) => {\n  const tag = href ? \"a\" : \"button\";\n  return React.createElement(\n    tag,\n    {\n      disabled,\n      href,\n      type,\n      value,\n      title,\n      \"data-id\": dataId ? dataId : undefined,\n      className: `c_Button c_Button--${variant} ${className} ${\n        rounded ? \"c_Button--rounded\" : \"\"\n      } c_Button--size-${size}`,\n    },\n    <div className=\"c_Button__inner\">{children}</div>\n  );\n};\n","import * as React from 'react';\n\nexport default () => {\n  return (\n    <header className=\"c_CompactHeader\">\n      <div className=\"c_CompactHeader__inner\">\n        <a className=\"c_CompactHeader__link\" href=\"/\">\n          <img\n            className=\"c_CompactHeader__logo\"\n            src=\"https://blueprint.the-tractor.store/cdn/img/logo.svg\"\n            alt=\"Micro Frontends - Tractor Store\"\n          />\n        </a>\n      </div>\n    </header>\n  );\n};\n"],"names":["StorePicker","window","getComponent","Footer","defaultForm","firstName","lastName","_React_useState","shop","setShop","changeData","ev","_ev_currentTarget","currentTarget","name","value","setData","data","React","changeShop","detail","addEventListener","removeEventListener","isInvalid","CompactHeader","className","action","method","onSubmit","dispatchEvent","CustomEvent","history","pushState","undefined","preventDefault","htmlFor","type","id","required","onChange","defaultValue","readOnly","Button","variant","disabled","href","rounded","children","dataId","size","title","concat","src","alt"],"mappings":"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"}